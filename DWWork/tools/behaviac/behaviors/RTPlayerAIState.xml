<?xml version="1.0" encoding="utf-8"?>
<Behavior Version="5">
  <Node Class="Behaviac.Design.Nodes.Behavior" AgentType="RTPlayerAIAgent" Domains="" Enable="true" HasOwnPrefabData="false" Id="-1" PrefabName="" PrefabNodeId="-1">
    <Comment Background="NoColor" Text="" />
    <DescriptorRefs value="0:" />
    <Attachment Class="PluginBehaviac.Events.StartCondition" Enable="true" Id="0" PrefabAttachmentId="-1" TargetFSMNodeId="1" />
    <FSMNodes ScreenLocationX="0" ScreenLocationY="0">
      <Node Class="PluginBehaviac.Nodes.State" Enable="true" HasOwnPrefabData="false" Id="1" IsEndState="false" Method="Self.BaseActorAIAgent::SetIdleState()" Name="IdleState" PrefabName="" PrefabNodeId="-1" ScreenLocationX="218.3174" ScreenLocationY="0.9041805">
        <Comment Background="NoColor" Text="" />
        <Attachment Class="PluginBehaviac.Events.TransitionCondition" Effectors="0:" Enable="true" Id="3" Operator="Equal" Opl="Self.BaseActorAIAgent::TargetExist()" Opr1="&quot;&quot;" Opr2="const bool true" PrefabAttachmentId="-1" TargetFSMNodeId="4" />
        <Attachment Class="PluginBehaviac.Events.AlwaysTransition" Enable="true" Id="24" PrefabAttachmentId="-1" TargetFSMNodeId="12" TransitionPhase="ETP_Always" />
      </Node>
      <Node Class="PluginBehaviac.Nodes.State" Enable="true" HasOwnPrefabData="false" Id="4" IsEndState="false" Method="&quot;&quot;" Name="PreAttack" PrefabName="" PrefabNodeId="-1" ScreenLocationX="420.7572" ScreenLocationY="-37.16914">
        <Comment Background="NoColor" Text="" />
        <Attachment Class="PluginBehaviac.Events.Precondition" BinaryOperator="And" Enable="true" Id="17" Operator="Invalid" Opl="Self.PlayerAIAgent::RefreshSkill()" Opr1="&quot;&quot;" Opr2="&quot;&quot;" Phase="Enter" PrefabAttachmentId="-1" />
        <Attachment Class="PluginBehaviac.Events.TransitionCondition" Effectors="0:" Enable="true" Id="13" Operator="Equal" Opl="Self.BaseActorAIAgent::TargetExist()" Opr1="&quot;&quot;" Opr2="const bool false" PrefabAttachmentId="-1" TargetFSMNodeId="1" />
        <Attachment Class="PluginBehaviac.Events.TransitionCondition" Effectors="0:" Enable="true" Id="5" Operator="LessEqual" Opl="Self.BaseActorAIAgent::GetDistanceToTarget()" Opr1="&quot;&quot;" Opr2="Self.PlayerAIAgent::GetMaxAttackDistance()" PrefabAttachmentId="-1" TargetFSMNodeId="8" />
        <Attachment Class="PluginBehaviac.Events.AlwaysTransition" Enable="true" Id="7" PrefabAttachmentId="-1" TargetFSMNodeId="6" TransitionPhase="ETP_Always" />
      </Node>
      <Node Class="PluginBehaviac.Nodes.State" Enable="true" HasOwnPrefabData="false" Id="6" IsEndState="false" Method="&quot;&quot;" Name="MovingState" PrefabName="" PrefabNodeId="-1" ScreenLocationX="481.8566" ScreenLocationY="94.30704">
        <Comment Background="NoColor" Text="" />
        <Attachment Class="PluginBehaviac.Events.Precondition" BinaryOperator="And" Enable="true" Id="9" Operator="Invalid" Opl="Self.BaseActorAIAgent::HandleMoveToPos()" Opr1="&quot;&quot;" Opr2="&quot;&quot;" Phase="Both" PrefabAttachmentId="-1" />
        <Attachment Class="PluginBehaviac.Events.TransitionCondition" Effectors="0:" Enable="true" Id="18" Operator="Equal" Opl="Self.BaseActorAIAgent::TargetExist()" Opr1="&quot;&quot;" Opr2="const bool false" PrefabAttachmentId="-1" TargetFSMNodeId="1" />
        <Attachment Class="PluginBehaviac.Events.TransitionCondition" Effectors="0:" Enable="true" Id="11" Operator="LessEqual" Opl="Self.BaseActorAIAgent::GetDistanceToTarget()" Opr1="&quot;&quot;" Opr2="Self.PlayerAIAgent::GetMaxAttackDistance()" PrefabAttachmentId="-1" TargetFSMNodeId="4" />
      </Node>
      <Node Class="PluginBehaviac.Nodes.State" Enable="true" HasOwnPrefabData="false" Id="8" IsEndState="false" Method="&quot;&quot;" Name="AttackState" PrefabName="" PrefabNodeId="-1" ScreenLocationX="682.9006" ScreenLocationY="81.99307">
        <Comment Background="NoColor" Text="" />
        <Attachment Class="PluginBehaviac.Events.Precondition" BinaryOperator="And" Enable="true" Id="10" Operator="Invalid" Opl="Self.BaseActorAIAgent::HandleAttack()" Opr1="&quot;&quot;" Opr2="&quot;&quot;" Phase="Enter" PrefabAttachmentId="-1" />
        <Attachment Class="PluginBehaviac.Events.AlwaysTransition" Enable="true" Id="19" PrefabAttachmentId="-1" TargetFSMNodeId="2" TransitionPhase="ETP_Always" />
      </Node>
      <Node Class="PluginBehaviac.Nodes.State" Enable="true" HasOwnPrefabData="false" Id="15" IsEndState="false" Method="&quot;&quot;" Name="PostAttack" PrefabName="" PrefabNodeId="-1" ScreenLocationX="698.6693" ScreenLocationY="-54.28979">
        <Comment Background="NoColor" Text="" />
        <Attachment Class="PluginBehaviac.Events.TransitionCondition" Effectors="0:" Enable="true" Id="16" Operator="Equal" Opl="Self.PlayerAIAgent::CanTakeNextMove()" Opr1="&quot;&quot;" Opr2="const bool true" PrefabAttachmentId="-1" TargetFSMNodeId="4" />
      </Node>
      <Node Class="PluginBehaviac.Nodes.State" Enable="true" HasOwnPrefabData="false" Id="12" IsEndState="false" Method="&quot;&quot;" Name="ReturnPotrolZone" PrefabName="" PrefabNodeId="-1" ScreenLocationX="299.9296" ScreenLocationY="-165.6055">
        <Comment Background="NoColor" Text="" />
        <Attachment Class="PluginBehaviac.Events.Precondition" BinaryOperator="And" Enable="true" Id="22" Operator="Invalid" Opl="Self.BaseActorAIAgent::HandleMoveToPos()" Opr1="&quot;&quot;" Opr2="&quot;&quot;" Phase="Enter" PrefabAttachmentId="-1" />
        <Attachment Class="PluginBehaviac.Events.TransitionCondition" Effectors="0:" Enable="true" Id="23" Operator="Equal" Opl="Self.BaseActorAIAgent::IsMoveState()" Opr1="&quot;&quot;" Opr2="const bool false" PrefabAttachmentId="-1" TargetFSMNodeId="20" />
        <Attachment Class="PluginBehaviac.Events.TransitionCondition" Effectors="0:" Enable="true" Id="25" Operator="Equal" Opl="Self.BaseActorAIAgent::TargetExist()" Opr1="&quot;&quot;" Opr2="const bool true" PrefabAttachmentId="-1" TargetFSMNodeId="4" />
      </Node>
      <Node Class="PluginBehaviac.Nodes.WaitFramesState" Enable="true" Frames="const int 2" HasOwnPrefabData="false" Id="20" IsEndState="false" Name="WaitMove" PrefabName="" PrefabNodeId="-1" ScreenLocationX="189.0081" ScreenLocationY="-72.78166">
        <Comment Background="NoColor" Text="" />
        <Attachment Class="PluginBehaviac.Events.WaitTransition" Enable="true" Id="21" PrefabAttachmentId="-1" TargetFSMNodeId="1" />
      </Node>
      <Node Class="PluginBehaviac.Nodes.State" Enable="true" HasOwnPrefabData="false" Id="2" IsEndState="false" Method="&quot;&quot;" Name="WaitAttacking" PrefabName="" PrefabNodeId="-1" ScreenLocationX="705.6459" ScreenLocationY="9.647034">
        <Comment Background="NoColor" Text="" />
        <Attachment Class="PluginBehaviac.Events.Precondition" BinaryOperator="And" Enable="true" Id="14" Operator="Add" Opl="float Self.BaseActorAIAgent::m_nextStopBehaviourTime" Opr1="float Self.BaseActorAIAgent::m_curTime" Opr2="float Self.PlayerAIAgent::m_SkillInputInterval" Phase="Enter" PrefabAttachmentId="-1" />
        <Attachment Class="PluginBehaviac.Events.TransitionCondition" Effectors="0:" Enable="true" Id="26" Operator="Greater" Opl="float Self.BaseActorAIAgent::m_curTime" Opr1="&quot;&quot;" Opr2="float Self.BaseActorAIAgent::m_nextStopBehaviourTime" PrefabAttachmentId="-1" TargetFSMNodeId="15" />
      </Node>
    </FSMNodes>
  </Node>
</Behavior>